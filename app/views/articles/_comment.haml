- options = {:id => "comment_#{comment.id}", |
             :onmouseover => admin_tools_mouseover(:comment, comment.id), |
             :onmouseout => admin_tools_mouseout(:comment, comment.id)} |
- options[:class] = 'author_comment' if comment.user
- options[:style] = 'display: none' if controller.request.xhr?
- content_tag('li', options) do
  - tab_up
  = admin_tools_for comment
  %a{:name => "comment_#{comment.id}"}
  = gravatar_tag(comment.email) if this_blog.use_gravatar and comment.email
  = succeed " said #{distance_of_time_in_words(comment.article.published_at, comment.created_at)} later:" do
    %cite
      %strong= link_to_unless(comment.url.blank?, h(comment.author), comment.url)
  %br/
  = comment.generate_html(:body)
  - unless comment.published
    .spamwarning This comment has been flagged for moderator approval. |
                 It won't appear on this blog until the author approves it.
  - tab_down
